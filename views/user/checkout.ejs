<%-include("../../views/partials/user/header")%>
<style>
    .existing-addresses {
        width: 25rem;
  max-height: 300px; /* Set your desired height */
  overflow-y: auto; /* Enable vertical scrolling */
  border: 1px solid #ddd; /* Optional: Add a border for clarity */
  padding: 10px; /* Add some padding for better spacing */
  background-color: #f9f9f9; /* Optional: Add background for visibility */
}

.address-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.address-item {
  margin-bottom: 15px;
  padding: 10px;
  border-bottom: 1px solid #ddd;
}

</style>
    <main class="main">
      <section class="breadcrumb">
        <ul class="breadcrumb__list flex container">
          <li><a href="index.html" class="breadcrumb__link">Home</a></li>
          <li><span class="breadcrumb__link">></span></li>
          <li><span class="breadcrumb__link">Shop</span></li>
          <li><span class="breadcrumb__link">></span></li>
          <li><span class="breadcrumb__link">Cart</span></li>
          <li><span class="breadcrumb__link">></span></li>
          <li><span class="breadcrumb__link">Checkout</span></li>
        </ul>
      </section>
      <section class="checkout section--lg">
        <div class="checkout__container container grid">
          <div class="checkout__group">
            <section class="checkout__group">
                <h3 class="section__title">Shipping Address</h3>
                <div class="existing-addresses">
                  <form class="address-form">
                    <ul class="address-list">
                      <% addresses.forEach(address => { %>
                      <li class="address-item">
                        <label class="address-label flex">
                          <input 
                            type="radio" 
                            name="deliveryAddress" 
                            value="<%= address.id %>" 
                            class="address-radio" 
                            <% if (address.isDefault) { %> checked <% } %>
                          />
                          <div class="address-details">
                            <address class="address-details">
                              <strong><%= address.name %></strong><br />
                              <%= address.city %>, <%= address.landmark %><br />
                              <%= address.pincode %>, <%= address.state %><br />
                              Phone: <%= address.phonenumber %>
                            </address>
                          </div>
                        </label>
                      </li>
                      <% }); %>
                    </ul>
                    <button type="button" class="btn btn--md add-address-btn">Add New Address</button>
                  </form>
                </div>
              </section>
              
          </div>
          <div class="checkout__group">
            <h3 class="section__title">Cart Totals</h3>
            <table class="order__table">
              <thead>
                <tr>
                  <th colspan="2">Products</th>
                  <th>size</th>
                  <th>price</th>
                  <th>Total</th>
                </tr>
              </thead>

              <tbody>
                <%cart.forEach(items => {%>
                <tr>
                  <td >
                    <img
                      src="/uploads/product-images/<%=items.productId.productImage[0]%>"
                      alt="sdfd"
                      class="order__img"
                    />
                  </td>
                  <td >
                    <h3 class="table__title"><%=items.productId.productName%></h3>
                    <p class="table__quantity">x <%=items.quantity%></p>
                  </td>
                  <td><span><%=items.size%></span></td>
                  <td><span>₹<%=items.price%></span></td>
                  <td><span class="table__price">₹<%=items.totalPrice%></span></td>
                </tr>
                <%})%>
              
                <tr>
                  <td colspan="2"><span class="order__subtitle">Subtotal</span></td>
                  <td colspan="3"><span class="table__price">$280.00</span></td>
                </tr>
                <tr>
                  <td colspan="2"><span class="order__subtitle">Shipping</span></td>
                  <td colspan="3">
                    <span class="table__price">Free Shipping</span>
                  </td>
                </tr>
                <tr>
                  <td colspan="2"><span class="order__subtitle">Total</span></td>
                  <td colspan="3">
                    <span class="order__grand-total">$280.00</span>
                  </td>
                </tr>
                
              </tbody>
            </table>


            <div class="toast align-items-center text-white bg-primary border-0" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="d-flex">
                  <div class="toast-body">
                    Hello, world! This is a toast message.
                  </div>
                  <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
              </div>



            <div class="payment__methods">
              <h3 class="checkout__title payment__title">Payment</h3>
              <div class="payment__option flex">
                <input
                  type="radio"
                  name="radio"
                  id="l1"
                  checked
                  class="payment__input"
                />
                <label for="l1" class="payment__label"
                  >Cash On Delivery</label
                >
              </div>
              <div class="payment__option flex">
                <input
                  type="radio"
                  name="radio"
                  id="l2"
                  class="payment__input"
                />
                <label for="l2" class="payment__label">Wallet Payment</label>
              </div>
              <div class="payment__option flex">
                <input
                  type="radio"
                  name="radio"
                  id="l3"
                  class="payment__input"
                />
                <label for="l3" class="payment__label">Razorpay</label>
              </div>
            </div>
            <button class="btn btn--md">Place Order</button>
          </div>
        </div>
      </section> 

      


      

      <%-include("../../views/partials/user/footer")%>