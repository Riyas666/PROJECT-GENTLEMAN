<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!--=============== CSS ===============-->
  <link rel="stylesheet" href="/styles/signup.css" />

  <title>Ecommerce Website</title>
</head>

<body>
  <!--=============== HEADER ===============-->
  <header class="header">
    <div class="header__top">
      <div class="header__container container">

        <p class="header__alert-news">
          "Welcome to Gentleman Store - Quality Redefined!"
        </p>
        <a href="/login" class="header__top-action" style="padding-left: 40rem;">
          Log In
        </a>
        <a href="/signup" class="header__top-action">
          Signup
        </a>
      </div>
    </div>

    <nav class="nav container">
      <a href="/home" class="nav__logo">
        <img class="nav__logo-img" src="/img/111.png" alt="websitelogo">
      </a>
      <div class="nav__menu" id="nav-menu">
        <ul class="nav__list">
          <li class="nav__item">
            <a href="/home" class="nav__link">Home</a>
          </li>
          <li class="nav__item">
            <a href="/signup" class="nav__link active-link">Signup</a>
          </li>

          <li class="nav__item">
            <a href="/login" class="nav__link ">Login</a>
          </li>
        </ul>
      </div>

    </nav>
  </header>

  <!--=============== MAIN ===============-->
  <main class="main">
    <!--=============== BREADCRUMB ===============-->
    <section class="breadcrumb">
      <ul class="breadcrumb__list flex container">
        <li><a href="/home" class="breadcrumb__link">Home</a></li>
        <li><span class="breadcrumb__link">></span></li>
        <li><span class="breadcrumb__link">Register</span></li>
      </ul>
    </section>

    <!--=============== LOGIN ===============-->
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <!-- Login Card -->
          <div class="card shadow-lg">
            <div class="card-header bg-white text-white text-center">
              <h3 class="mb-2">Create an account</h3>
            </div>

            <div class="card-body">
              <form class="form grid" method="post" action="/signup" id="signupform">
                <input type="text" id="name" name="name" placeholder="Username" class="form__input" autocomplete="off" />
                <span class="error-message" id="nameError"></span>
                <input type="email" id="email" name="email" placeholder="Your Email" class="form__input" autocomplete="off" />
                <span class="error-message" id="emailError"></span>

                <input type="text" id="phone" name="phone" placeholder="Phone Number" class="form__input" />
                <span class="error-message" id="phoneError"></span>
                <input type="password" id="password" name="password" placeholder="Your Password" class="form__input" autocomplete="off" />
                <span class="error-message" id="passwordError"></span>
                <input type="password" id="confirmPassword" name="cPassword" placeholder="Confirm Password" class="form__input" autocomplete="off" />
                <span class="error-message" id="confirmPasswordError"></span>
                <%if(locals.message && message.length > 0) {%>
                <div class="alert alert-danger text-center">
                  <%=message%>
                </div>
                <%}%>

                            <div class="form__btn">
                                <div class="form__btn-row">
                                    <button type="submit" class="btnnn">Submit & Register</button>
                                    <p class="or-login">Or login with</p>
                                   <div>
                                    <a href="/auth/google/" type="submit" class="google-btn">
                                        <img src="/img/googlesignup.png" alt="Google Logo" style="width: 25px" />
                                    </a> 
                                  </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="card-footer text-center">
                        <p class="mb-0">Already have an account? <a href="/login" class="text-primary">Log In</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!--=============== FOOTER ===============-->



<script>
    document.getElementById("signupform").addEventListener("submit", function (e) {
        e.preventDefault();

        const name = document.getElementById("name").value.trim();

        const email = document.getElementById("email").value.trim();

        const phone = document.getElementById("phone").value.trim();

        const password = document.getElementById("password").value.trim();

        const confirmPassword = document.getElementById("confirmPassword").value.trim();

        const nameError = document.getElementById("nameError");

        const emailError = document.getElementById("emailError");

        const phoneError = document.getElementById("phoneError");

        const passwordError = document.getElementById("passwordError");

        const confirmPasswordError = document.getElementById("confirmPasswordError");

        nameError.textContent = "";
        emailError.textContent = "";
        phoneError.textContent = "";
        passwordError.textContent = "";
        confirmPasswordError.textContent = "";

        let isValid = true;


    //     if (!name || !email || !phone || !password || !confirmPassword) {
    //     Swal.fire({
    //         icon: 'error',
    //         title: 'Validation Error',
    //         text: 'All fields are required!',
    //         confirmButtonColor: '#3085d6'
    //     });
    //     return;
    // }



     const nameRegex = /^[a-zA-Z ]+$/;
     if (!nameRegex.test(name)) {
            nameError.textContent = "Please Enter a Valid Name";
            nameError.style.color = "red";
            isValid = false;
        }

       

        const emailRegex = /^[a-zA-Z0-9]([a-zA-Z0-9._-])*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        if (!emailRegex.test(email)) {
            emailError.textContent = "Please Enter a valid Email";
            emailError.style.color = "red";
            isValid = false;
        }

        const phoneRegex = /^\d{10}$/; // Example: Only allows 10-digit numbers
        if (!phoneRegex.test(phone)) {
            phoneError.textContent = "Please Enter a valid Phone Number";
            phoneError.style.color = "red";
            isValid = false;
        }

        const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;
       if (!passwordRegex.test(password)) {
            passwordError.textContent =
                "Password contain 8 characters, including one uppercase, one lowercase letter, and one number";
                passwordError.style.color = "red";
            isValid = false;
        }
       if (password !== confirmPassword) {
            confirmPasswordError.textContent = "Passwords do not match";
            confirmPasswordError.style.color = "red";
            isValid = false;
        }
        if (isValid) {
            this.submit();
        }
    });



    const inputs = ['name', 'email', 'phone', 'password', 'confirmPassword'];

inputs.forEach(inputId => {
    document.getElementById(inputId).addEventListener('input', function() {
        const error = document.getElementById(inputId + 'Error');
        error.textContent = '';  // Clear error when user starts typing
    });
});


</script>


<%-include("../../views/partials/user/footer")%>